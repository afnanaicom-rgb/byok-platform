# منصة BYOK مع Firebase و Pollinations.ai - قائمة المهام

## المرحلة 1: تخطيط المعمارية وإعداد قاعدة البيانات

- [x] تصميم جداول Firestore (users, apiKeys, chats, messages)
- [x] إعداد هيكل البيانات في drizzle/schema.ts
- [x] إنشاء migrations قاعدة البيانات

## المرحلة 2: إعداد نظام المصادقة والتشفير

- [x] إعداد متغيرات البيئة للتشفير (encryption secret)
- [x] برمجة دوال التشفير وفك التشفير (crypto utils)
- [x] اختبار دوال التشفير
- [ ] إعداد قواعس أمان Firestore (Security Rules) - اختياري

## المرحلة 3: برمجة الإجراءات (Procedures) في tRPC

- [x] إنشاء procedure لحفظ مفتاح API (saveKey)
- [x] إنشاء procedure لاستدعاء API الذكاء الاصطناعي (askAI)
- [x] إنشاء procedure لجلب المحادثات (getChats)
- [x] إنشاء procedure لحفظ رسالة جديدة (saveChat)
- [x] إنشاء procedure لتحديث بيانات المستخدم (updateProfile)
- [ ] كتابة اختبارات vitest للإجراءات

## المرحلة 4: بناء واجهة المستخدم الأمامية

- [x] تصميم صفحة تسجيل الدخول (Login) - مدمجة في Home
- [x] تصميم صفحة إدخال مفتاح API (API Key Setup)
- [x] تصميم صفحة المحادثات (Chat Interface)
- [x] تصميم لوحة التحكم (Dashboard)
- [x] تصميم صفحة الإعدادات (Settings)
- [x] إضافة نظام الملاحة (Navigation)

## المرحلة 5: تطبيق نظام الحماية من إساءة الاستخدام

- [x] تطبيق Rate Limiting باستخدام database counters
- [x] إعداد حدود يومية وشهرية للطلبات
- [ ] اختبار نظام الحماية

## المرحلة 6: الاختبار والتوثيق والنشر

- [x] اختبار شامل لجميع الميزات
- [x] توثيق API والإجراءات
- [x] إنشاء checkpoint نهائي
- [ ] نشر التطبيق (يتم من خلال واجهة Manus)


## المرحلة الجديدة: تحديث المصادقة والتكامل مع Firebase و Pollinations.ai

### تحديث المصادقة:
- [ ] إضافة GitHub OAuth كخيار تسجيل دخول
- [ ] تكوين Firebase Authentication مع GitHub
- [ ] تحديث صفحة تسجيل الدخول لعرض خيار GitHub

### نقل التخزين إلى Firebase:
- [ ] إنشاء Firestore collections (users, apiKeys, chats, messages)
- [ ] كتابة دوال Firebase للقراءة والكتابة
- [ ] نقل البيانات من MySQL إلى Firestore (إن وجدت)

### تكامل Pollinations.ai:
- [ ] إنشاء دالة لجلب النماذج المتاحة من Pollinations.ai
- [ ] إنشاء دالة لإرسال الرسائل إلى Pollinations.ai API
- [ ] معالجة الأخطاء والاستجابات

### واجهة Chat الجديدة:
- [ ] إنشاء مربع حوار لإدخال مفتاح Pollinations.ai API
- [ ] عرض قائمة النماذج المتاحة
- [ ] السماح للمستخدم بتأكيد اختيار النموذج
- [ ] تطبيق واجهة المحادثة مع النموذج المختار
- [ ] عرض اسم النموذج المستخدم في المحادثة

### الاختبار والنشر:
- [ ] اختبار تسجيل الدخول بـ GitHub
- [ ] اختبار جلب النماذج من Pollinations.ai
- [ ] اختبار إرسال الرسائل والحصول على الردود
- [ ] اختبار حفظ المحادثات في Firebase
- [ ] نشر التطبيق
